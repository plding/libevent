#
# Makefile for libevent
#
# Ding Peilong <77676182@qq.com>
#
# $Id: Makefile.in,v 1.1 2018/03/27 12:45:27 dingpeilong Exp $

srcdir			= @srcdir@
VPATH			= @srcdir@

install_prefix	=
prefix 			= @prefix@
exec_prefix		= @exec_prefix@
libdir 			= @libdir@
mandir			= @mandir@

CC = @CC@
CFLAGS  = @CFLAGS@ -I.
LDFLAGS = @LDFLAGS@

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@

HDRS	= event.h
SRCS	= event.c
OBJS	= $(SRCS:.c=.o)

.c.o:
	$(CC) $(CFLAGS) -c $(srcdir)/$*.c

all: libevent.a
	$(MAKE) -C sample

libevent.a: $(OBJS)
	@echo "building $@"
	ar cr $@ $(OBJS)
	@RANLIB@ $@

clean:
	rm -f *.o *~ *.fifo libevent.a
	$(MAKE) -C sample clean

distclean: clean
	rm -rf Makefile autom4te.cache configure config.h config.cache config.log config.status
	$(MAKE) -C sample distclean
